<!DOCTYPE html>
<html>
<head>
<title>zds_grread</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link type="text/css" href="../styles/style.css" rel="stylesheet" />
<link type="text/css" href="../styles/zwcadcss.css" rel="StyleSheet" />
<script language="javascript" src="../scripts/jquery-1.7.2.min.js"></script>
<script language="javascript" src="../scripts/table-odd-even.js"></script>
</head>
<body>
<div id="main" class="main">
<div id="header" class="header">
<div class="header_resize">
<div class="banner">
	<div class="banner_img_right"><img src="../images/banner_img_right.png"></div>
	<div class="hear_text">ZWCAD 2022 Help</div>
</div>
</div>
</div>
<div class="clr"></div>
    <div class="Tophead"><span class="Tophead_text">zds_grread</span></div> 
<div class="clr"></div>
<div id="content" class="content">
    <div class="content_resize">
    <div class="article">
    <div class="clr"></div>
<!--main-->
<p class="cmd_line"><font color="#186DAD"><b>int zds_grread (int bits, int *answertype, struct zds_resbuf *answer);</b></font></p>
<p class="body_text">Read data from any input device.</p>
<hr algin="left" />
<p class="body_text">This function directly reads the data generated by input devices. A note of caution applies when using this function: the data can become an overwhelming amount.</p>
<p class="body_text">The argument bits specifies the following:</p>
<table class="table-desc">
	<tr>
		<th>Track</th>
		<th>Meaning</th>
	</tr>
	<tr>
		<td>1</td>
		<td>Returns the coordinates dynamically in the form of a list. The list consists of the value and the 3-D coordinate.</td>
	</tr>
	<tr>
		<td>2</td>
		<td>Returns keystrokes but does not move the cursor. Returns all key values, including cursor and function key codes.</td>
	</tr>
	<tr>
		<td>4</td>
		<td>Turn this on if you are going to choose a cursor type.</td>
	</tr>
	<tr>
		<td>8</td>
		<td>Turns off the error message "console break" when you cancel out of the loop.</td>
	</tr>
</table>
<p class="body_text">&nbsp;Add the bits above to obtain a combination if desired.</p>
<p class="body_text">The cursor argument is an integer that corresponds to a cursor type:</p>
<table class="table-desc">
	<tr>
		<th>Cursor</th>
		<th>Meaning</th>
	</tr>
	<tr>
		<td>0</td>
		<td>Normal cursor-crosshairs.</td>
	</tr>
	<tr>
		<td>1</td>
		<td>No cursor.</td>
	</tr>
	<tr>
		<td>2</td>
		<td>Selection cursor - box.</td>
	</tr>
</table>
<p class="body_text">The following table describes how the information is returned. For example, if you entered the letter, l (keyboard input), the value 2 and the character code would be returned (2 108) in a list.</p>
<table class="table-desc">
	<tr>
		<th>Type of Input</th>
		<th>Returned Value</th>
		<th>Definition</th>
	</tr>
	<tr>
		<td>Keyboard</td>
		<td>2</td>
		<td>Character code.</td>
	</tr>
	<tr>
		<td>Selected Point</td>
		<td>3</td>
		<td>3-dimensional point.</td>
	</tr>
	<tr>
		<td>Pulldown menu</td>
		<td>4</td>
		<td>1,001 to 1,999 POP1 menu<p>&nbsp;2,001 to 2,999 POP2 menu</p>
		<p>&nbsp;16,001 to 16,999 POP16 menu</td>
	</tr>
	<tr>
		<td>Mouse (other pointer)</td>
		<td>5</td>
		<td>3-dimensional point.</td>
	</tr>
</table>
<p class="body_text">The argument answer the actual input, including type and value, is stored in this result buffer.</p>
<p class="body_text">This function returns RTNORM or RTCAN.</p>
<hr algin="left" />
<p class="define_head_1">Example</p>
<p class="define_text_1">int type;</p>
<p class="define_text_1">zds_resbuf readinput;</p>
<p class="define_text_1"><b>zds_grread</b>(2,&type,&readinput); // Using 2 returns the value of any key pressed.
</p>
<p class="define_text_1">switch(type){</p>
<p class="define_text_1">&nbsp;case 2: zds_printf("\nYou used the keyboard.");</p>
<p class="define_text_1">&nbsp;break;</p>
<p class="define_text_1">&nbsp;case 3: zds_printf("\nYou selected a point.");</p>
<p class="define_text_1">&nbsp;break;</p>
<p class="define_text_1">&nbsp;etc.</p>
<p class="define_text_1">&nbsp;break;
</p>
<p class="define_text_1">}</p>
<p class="define_text_1">switch(readinput.restype){</p>
<p class="define_text_1">&nbsp;case RTREAL: zds_printf("\nIts value is %f. ",readinput.resval.rreal)</p>
<p class="define_text_1">&nbsp;break;</p>
<p class="define_text_1">&nbsp;case RTPOINT: zds_printf("\nThe 2D point is %f,%f.", 
readinput.resval.rpoint[X],readinput.resval.rpoint[Y]);</p>
<p class="define_text_1">&nbsp;break;</p>
<p class="define_text_1">&nbsp;etc.</p>
<p class="define_text_1">}</p>
<hr algin="left" />
<p class="define_head_1">Tell me about...</p>
<ul class="command_ul">
	<li>
	<p class="define_text" style="margin-left: 0pt"><a href="Programming%20Overview%20of%20ZDS.htm">Programming Overview of ZDS (ZWCAD Development System)</a></p>
	</li>
</ul>
<!--main-->
</div>
</div>
</div>
<div class="blank"></div>
<div class="footer_placeholder"></div>
</div>
<div id="fbg" class="fbg">
<div class="footer">
<span class="lr">&copy; 1998-2022 广州中望龙腾软件股份有限公司 All Rights Reserved.</span>
<div class="clr"></div>
</div>
</div> 
</body>
</html>
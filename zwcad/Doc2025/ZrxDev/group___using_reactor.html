<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZWSoft ZRX for ZWCAD: Developer Guide: Using a Reactor</title>
<link href="../styles/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../scripts/jquery.js"></script>
<script type="text/javascript" src="../scripts/dynsections.js"></script>
<link href="../styles/doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../pics/logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZWSoft ZRX for ZWCAD: Developer Guide
   &#160;<span id="projectnumber">2024</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Using a Reactor<div class="ingroups"><a class="el" href="group___advanced_topics.html">Advanced Topics</a> &raquo; <a class="el" href="group___notification.html">Notification</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<p>When you want to use a reactor, you can create an instance of the custom reactor class, and then add the reactor to the database. And you can remove it when you don't want to use the reactor anymore.<br />
 The createReactor() function shows how to add the reactors. The clearReactor() removes the reactors and deletes them.</p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> createReactor()</div><div class="line">    {   </div><div class="line">        <span class="comment">//Using AcEditorReactor</span></div><div class="line">        EditorReactor *editorReactor = EditorReactor::getEditorReactor();</div><div class="line">        acedEditor-&gt;addReactor(editorReactor);</div><div class="line"></div><div class="line">        <span class="comment">//Using AcDbDatabaseReactor</span></div><div class="line">        DBReactor *dbReactor = DBReactor::getDBReactor();</div><div class="line">        acdbHostApplicationServices()-&gt;workingDatabase()-&gt;addReactor(dbReactor);</div><div class="line"></div><div class="line">        <span class="comment">//Using AcDbObjectReactor</span></div><div class="line">        ObjectReactor *objReactor = ObjectReactor::getObjectReactor();</div><div class="line">        AcGePoint3d ptStart(0,0,0);</div><div class="line">        AcGePoint3d ptEnd(100,100,0);</div><div class="line">        AcDbLine *pLine = <span class="keyword">new</span> AcDbLine(ptStart,ptEnd);</div><div class="line"></div><div class="line">        AcDbBlockTable *pBlockTable;</div><div class="line">        acdbHostApplicationServices()-&gt;workingDatabase()-&gt;getBlockTable(pBlockTable,AcDb::kForRead);</div><div class="line"></div><div class="line">        AcDbBlockTableRecord *pBlockTableRecord;</div><div class="line">        pBlockTable-&gt;getAt(ACDB_MODEL_SPACE,pBlockTableRecord,AcDb::kForWrite);</div><div class="line"></div><div class="line">        pBlockTableRecord-&gt;appendAcDbEntity(lineId,pLine);</div><div class="line"></div><div class="line">        pLine-&gt;addReactor(objReactor);</div><div class="line">        pLine-&gt;close();</div><div class="line">        pBlockTableRecord-&gt;close();</div><div class="line">        pBlockTable-&gt;close();</div><div class="line"></div><div class="line">    }</div><div class="line">    <span class="keywordtype">void</span> clearReactor()</div><div class="line">    {</div><div class="line">        <span class="comment">//Clearing AcEditorReactor</span></div><div class="line">        EditorReactor *editorReactor = EditorReactor::getEditorReactor();</div><div class="line">        acedEditor-&gt;removeReactor(editorReactor);</div><div class="line">        <span class="keyword">delete</span> editorReactor;</div><div class="line">        editorReactor = NULL;</div><div class="line"></div><div class="line">        <span class="comment">//Clearing AcDbDatabaseReactor</span></div><div class="line">        DBReactor *dbReactor = DBReactor::getDBReactor();</div><div class="line">        acdbHostApplicationServices()-&gt;workingDatabase()-&gt;removeReactor(dbReactor);</div><div class="line">        <span class="keyword">delete</span> dbReactor;</div><div class="line">        dbReactor = NULL;</div><div class="line"></div><div class="line">        <span class="comment">//Clearing AcDbObjectReactor</span></div><div class="line">        ObjectReactor *objReactor = ObjectReactor::getObjectReactor();</div><div class="line">        AcDbLine *pLine;</div><div class="line">        acdbOpenObject(pLine,lineId,AcDb::kForWrite);</div><div class="line">        pLine-&gt;removeReactor(objReactor);</div><div class="line">        pLine-&gt;close();</div><div class="line"></div><div class="line">        <span class="keyword">delete</span> objReactor;</div><div class="line">        objReactor = NULL;</div><div class="line">    }</div></div><!-- fragment --><p>Add a reactor by calling the function: </p><div class="fragment"><div class="line">addReactor(pReactor);</div></div><!-- fragment --><p> Remove a reactor by calling the function: </p><div class="fragment"><div class="line">removeReactor(pReactor);</div></div><!-- fragment --> </div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
<a href="https://www.zwsoft.com/zwcad/Developers/">
<img class="footer" src="../pics/zwsoft.png" alt="zwsoft"/></br>
</a>
&copy; 1998-2023  Copyright ZWSOFT CO., LTD(Guangzhou)</br>
All rights reserved.
</small></address>
</body>
</html>



<!DOCTYPE html>
<html>
<head>
<title>步骤5</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>
<link type="text/css" href="../styles/style.css" rel="stylesheet" />
<link type="text/css" href="../styles/zwcadcss.css" rel="StyleSheet" />


</head>
<body>
<div id="main" class="main">
<div id="header" class="header">
<div class="header_resize">
<div class="banner">
	<div class="banner_img_right"><img src="../images/banner_img_right.png"></div>
	<div class="hear_text">中望CAD 2026 ZRX移植指南</div>
</div>
</div>
</div>
<div class="clr"></div>
    <div class="Tophead"><span class="Tophead_text">第五步：修改ZRX程序入口函数</span></div> 
<div class="clr"></div>
<div id="content" class="content">
    <div class="content_resize">
    <div class="article">
    <div class="clr"></div>

<p class="dev_body_text">ZRX程序的入口函数原型如下</p>
<pre class="code_sample">extern "C" ZcRx::AppRetCode __declspec(dllexport) zcrxEntryPoint (ZcRx::AppMsgCode msg, void *pkt);</pre>
<p class="dev_body_text">如果ARX工程中定义了acrxEntryPoint函数，需要将源码中的acrxEntryPoint改成zcrxEntryPoint，ZRXSDK2025开始已经在rxdefs.h头文件进行了宏替换，不再需要处理。</p>
<pre class="code_sample">
<span class="comment">// rxdefs.h</span>
...
#ifndef acrxEntryPoint
#define acrxEntryPoint		zcrxEntryPoint
#endif //#ifndef acrxEntryPoint
...</pre>

<p class="dev_body_text">如果ARX工程通过派生AcRxArxApp作为程序的入口，并且使用ACED_ADSSYMBOL_ENTRY_AUTO注册了LISP函数，或者使用ACED_ADSCOMMAND_ENTRY_AUTO注册了LISP命令，需要将AcRxArxApp对应的成员函数的ads_前缀的修改为zds_前缀。</p>

</div>
</div>
</div>
<div class="blank"></div>
<div class="footer_placeholder"></div>
</div>
<div id="fbg" class="fbg">
<div class="footer">
<span class="lr">&copy; 1998-2025 ZWSOFT CO., LTD.(Guangzhou). All Rights Reserved.</span>
<div class="clr"></div>
</div>
</div> 
</body>
</html>